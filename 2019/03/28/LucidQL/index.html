<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>LucidQL | Simon Carr</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="Simon Carr,Simon Carr's Blog">
  
  <meta name="description" content="LucidQL allows you to query an Adonis API running the Lucid ORM.  Features  minimal setup single controller method single Route most Lucid features made available simply send structured JSON in a POST">
<meta name="keywords" content="LucidQL,AdonisJS,Knex,API,Rest">
<meta property="og:type" content="article">
<meta property="og:title" content="LucidQL">
<meta property="og:url" content="http://simoncarr.co.uk/2019/03/28/LucidQL/index.html">
<meta property="og:site_name" content="Simon Carr">
<meta property="og:description" content="LucidQL allows you to query an Adonis API running the Lucid ORM.  Features  minimal setup single controller method single Route most Lucid features made available simply send structured JSON in a POST">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-03-28T23:30:29.739Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LucidQL">
<meta name="twitter:description" content="LucidQL allows you to query an Adonis API running the Lucid ORM.  Features  minimal setup single controller method single Route most Lucid features made available simply send structured JSON in a POST">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>
  

  
  

</head>
</html>
<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">Simon Carr</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a href="http://www.simoncarr.co.uk">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a href="/about">
                        <i class="fa fa-user"></i>
                        <span>About</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <!-- <img src="/images/logo.png" alt="logo"> -->
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        Simon Carr
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        Love to Code - Live to Code
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="Simon Carr" target="_blank" href="http://simoncarr.co.uk">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/southribbletech">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                        <a title="Twitter" target="_blank" href="//twitter.com/simonstweet">
                            <i class="fa fa-twitter fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-LucidQL" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      LucidQL
    </h1>
    <div class="post-title-bar">
      <ul>
          
        <li>
          <i class="fa fa-calendar"></i>  2019-03-28
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>
        </li>
      </ul>
    </div>
  

          
      </header>
    
    <div class="article-entry post-content" itemprop="articleBody">
      
            
            <p>LucidQL allows you to query an <a href="http://www.adonisjs.com" target="_blank" rel="noopener">Adonis</a> API running the Lucid ORM. </p>
<p><strong>Features</strong></p>
<ul>
<li>minimal setup</li>
<li>single controller method</li>
<li>single Route</li>
<li>most Lucid features made available</li>
<li>simply send structured JSON in a POST request</li>
</ul>
<h2 id="AdonisJS-Setup"><a href="#AdonisJS-Setup" class="headerlink" title="AdonisJS Setup"></a>AdonisJS Setup</h2><p>Start by installing the AdonisJS cli globally. .</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g @adonisjs/cli</span><br></pre></td></tr></table></figure>
<p>We will be using MySQL and LucidQL so we need to install those packages as well</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mysql @srtech/lucidql --save</span><br></pre></td></tr></table></figure>
<h3 id="Create-an-AdonisJS-project"><a href="#Create-an-AdonisJS-project" class="headerlink" title="Create an AdonisJS project"></a>Create an AdonisJS project</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis new lucidql_tutorial --api-only</span><br></pre></td></tr></table></figure>
<p>You Should see<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">   / \   __| | ___  _ __ (_)___    | |___</span><br><span class="line">  / _ \ / _` |/ _ \| &apos;_ \| / __|_  | / __|</span><br><span class="line"> / ___ \ (_| | (_) | | | | \__ \ |_| \__ \</span><br><span class="line">/_/   \_\__,_|\___/|_| |_|_|___/\___/|___/</span><br><span class="line"></span><br><span class="line">  [1/6] 🔬  Requirements matched [node &amp; npm]</span><br><span class="line">  [2/6] 🔦  Ensuring project directory is clean [lucidql_tutorial]</span><br><span class="line">  [3/6] 📥  Cloned [adonisjs/adonis-api-app]</span><br><span class="line">  [4/6] 📦  Dependencies installed</span><br><span class="line">  [5/6] 📖  Environment variables copied [.env]</span><br><span class="line">  [6/6] 🔑  Key generated [adonis key:generate]</span><br><span class="line"></span><br><span class="line">🚀   Successfully created project</span><br><span class="line">👉   Get started with the following commands</span><br><span class="line"></span><br><span class="line">$ cd lucidql_tutorial</span><br><span class="line">$ adonis serve --dev</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd lucidql_tutorial\</span><br></pre></td></tr></table></figure>
<h3 id="Create-MySQL-Database"><a href="#Create-MySQL-Database" class="headerlink" title="Create MySQL Database"></a>Create MySQL Database</h3><blockquote>
<p>I am assuming that you already have MySQL installed and you can create a new Database. If you don’t there is a lot of info out there on installing and using it, so just google for it. </p>
</blockquote>
<p>I’m going to name my database <code>lucidql_blog</code> </p>
<p>You don’t need any tables, we will create those in Adonis using Migrations.</p>
<h3 id="Create-Models-amp-Migrations"><a href="#Create-Models-amp-Migrations" class="headerlink" title="Create Models &amp; Migrations"></a>Create Models &amp; Migrations</h3><p>We will use the AdonisJS CLI to create the models and the migrations</p>
<p>We are going to create the following models</p>
<ul>
<li>Posts</li>
<li>Comments</li>
</ul>
<p>At the command prompt in the root of your Adonis project enter the following commands</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adonis make:model Post -m</span><br><span class="line">adonis make:model Comment -m</span><br></pre></td></tr></table></figure>
<p>Open the project in your preferred IDE, I use <a href="https://code.visualstudio.com/" target="_blank" rel="noopener">Visual Studio Code</a>, so I can simply type</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code .</span><br></pre></td></tr></table></figure>
<p>The -m flag tells Adonis to also create a migration file.</p>
<p>Let’s edit our Migration files to add the fields we need.</p>
<figure class="highlight javascript"><figcaption><span>App/Database/Migrations/xxxxxxxxxxxxx_post_schema.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** @type &#123;import('@adonisjs/lucid/src/Schema')&#125; */</span></span><br><span class="line"><span class="keyword">const</span> Schema = use(<span class="string">'Schema'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostSchema</span> <span class="keyword">extends</span> <span class="title">Schema</span> </span>&#123;</span><br><span class="line">  up () &#123;</span><br><span class="line">    <span class="keyword">this</span>.create(<span class="string">'posts'</span>, (table) =&gt; &#123;</span><br><span class="line">      table.increments()</span><br><span class="line">      table.string(<span class="string">'title'</span>).notNullable()</span><br><span class="line">      table.text(<span class="string">'body'</span>)</span><br><span class="line">      table.timestamps()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  down () &#123;</span><br><span class="line">    <span class="keyword">this</span>.drop(<span class="string">'posts'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = PostSchema</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><figcaption><span>App/Database/Migrations/xxxxxxxxxxxxx_comment_schema.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** @type &#123;import('@adonisjs/lucid/src/Schema')&#125; */</span></span><br><span class="line"><span class="keyword">const</span> Schema = use(<span class="string">'Schema'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CommentSchema</span> <span class="keyword">extends</span> <span class="title">Schema</span> </span>&#123;</span><br><span class="line">  up () &#123;</span><br><span class="line">    <span class="keyword">this</span>.create(<span class="string">'comments'</span>, (table) =&gt; &#123;</span><br><span class="line">      table.increments()</span><br><span class="line">      table.string(<span class="string">'comment'</span>).notNullable();</span><br><span class="line">      table.integer(<span class="string">'post_id'</span>).notNullable().unsigned().references(<span class="string">'id'</span>).inTable(<span class="string">'posts'</span>);</span><br><span class="line">      table.timestamps()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  down () &#123;</span><br><span class="line">    <span class="keyword">this</span>.drop(<span class="string">'comments'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = CommentSchema</span><br></pre></td></tr></table></figure>
<p>In the <code>post_id</code> field in the comment schema sets up a foreign key in our database.</p>
<p>Now we can setup our models to tell Lucid about the relationship between posts and comments.</p>
<figure class="highlight javascript"><figcaption><span>App/Models/Post.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** @type &#123;typeof import('@adonisjs/lucid/src/Lucid/Model')&#125; */</span></span><br><span class="line"><span class="keyword">const</span> Model = use(<span class="string">'Model'</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Post</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;</span><br><span class="line">	comments() &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.hasMany(<span class="string">'App/Models/Comment'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = Post;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><figcaption><span>App/Models/Comment.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** @type &#123;typeof import('@adonisjs/lucid/src/Lucid/Model')&#125; */</span></span><br><span class="line"><span class="keyword">const</span> Model = use(<span class="string">'Model'</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Comment</span> <span class="keyword">extends</span> <span class="title">Model</span> </span>&#123;</span><br><span class="line">	post() &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.belongsTo(<span class="string">'App/Model/Post'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = Comment;</span><br></pre></td></tr></table></figure>
<p>The code above tells Lucid that each <code>post</code> has many <code>comments</code> and each <code>comment</code> belongs to a <code>post</code></p>
<h3 id="Configure-MySQL-connection"><a href="#Configure-MySQL-connection" class="headerlink" title="Configure MySQL connection"></a>Configure MySQL connection</h3><p>Before we run our migrations we need to tell Adonis about our database</p>
<p>Open the .env file in the root of your project. It needs to look like this.</p>
<figure class="highlight yaml"><figcaption><span>.env</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">HOST=127.0.0.1</span></span><br><span class="line"><span class="string">PORT=3333</span></span><br><span class="line"><span class="string">NODE_ENV=development</span></span><br><span class="line"><span class="string">APP_NAME=AdonisJs</span></span><br><span class="line"><span class="string">APP_URL=http://$&#123;HOST&#125;:$&#123;PORT&#125;</span></span><br><span class="line"><span class="string">CACHE_VIEWS=false</span></span><br><span class="line"><span class="string">APP_KEY=LZiQ5QscbkciL528vqQQUQ5vnW6W2vGs</span></span><br><span class="line"><span class="string">DB_CONNECTION=mysql</span></span><br><span class="line"><span class="string">DB_HOST=127.0.0.1</span></span><br><span class="line"><span class="string">DB_PORT=3306</span></span><br><span class="line"><span class="string">DB_USER=root</span></span><br><span class="line"><span class="string">DB_PASSWORD=</span></span><br><span class="line"><span class="string">DB_DATABASE=lucidql_blog</span></span><br><span class="line"><span class="string">HASH_DRIVER=bcrypt</span></span><br></pre></td></tr></table></figure>
<p>Let’s tell Adonis to run our migrations and create our tables.<br>At the commend line in the root of the project folder type the following command</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis migration:run</span><br></pre></td></tr></table></figure>
<p>If everything went well you should get the following result.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">migrate: 1503250034279_user.js</span><br><span class="line">migrate: 1503250034280_token.js</span><br><span class="line">migrate: 1553808248606_post_schema.js</span><br><span class="line">migrate: 1553808306776_comment_schema.js</span><br><span class="line">Database migrated successfully in 531 ms</span><br></pre></td></tr></table></figure>
<p>You will notice that Adonis also created two other tables users and tokens, these come as default in Adonis, but for this tutorial we will not be using them.</p>
<p>Adonis comes with cors support, which by default will prevent us from accessing our new server. Lets make a quick change to the config file to fix this.</p>
<p>In <code>config/cors.js</code> change <code>origin: false</code> to <code>origin: true</code></p>
<figure class="highlight plain"><figcaption><span>config/cors.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">origin: true,</span><br></pre></td></tr></table></figure>
<h2 id="LucidQL"><a href="#LucidQL" class="headerlink" title="LucidQL"></a>LucidQL</h2><h3 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h3><p>I said at the start of this tutorial that LucidQL has minimal setup, but we still need a route to handle POST requests and a controller to point the route to.</p>
<p>Lets tell Adonis to create our controller</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis make:controller LucidQL</span><br></pre></td></tr></table></figure>
<p>When prompted make sure to choose <code>for HTTP requests</code></p>
<p>Open the file up in your IDE and change it to look like this</p>
<figure class="highlight javascript"><figcaption><span>App/Controllers/LucidQlController.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">const</span> lucidql = <span class="built_in">require</span>(<span class="string">'@srtech/lucidql'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Post = use(<span class="string">'App/Models/Post'</span>);</span><br><span class="line"><span class="keyword">const</span> Comment = use(<span class="string">'App/Models/Comment'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> models = &#123;</span><br><span class="line">	__proto__: <span class="literal">null</span>, <span class="comment">// to avoid people being able to pass something like `toString`</span></span><br><span class="line">	Post,</span><br><span class="line">	Comment</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LucidQlController</span> </span>&#123;</span><br><span class="line">	<span class="keyword">async</span> query(&#123; request &#125;) &#123;</span><br><span class="line">		<span class="keyword">var</span> &#123; baseTable, query &#125; = request.all();</span><br><span class="line">		<span class="keyword">return</span> lucidql.run(models[baseTable], query);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = LucidQlController;</span><br></pre></td></tr></table></figure>
<p>Other than setting up a route, that is all we need to fetch data from our database with queries written in our client application. If need to make more models available to <code>LucidQL</code> we simply import them and add them to the <code>models</code> object.</p>
<p>Let’s setup a route next<br><figure class="highlight javascript"><figcaption><span>start/routes.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** @type &#123;typeof import('@adonisjs/framework/src/Route/Manager')&#125; */</span></span><br><span class="line"><span class="keyword">const</span> Route = use(<span class="string">'Route'</span>)</span><br><span class="line"></span><br><span class="line">Route.post(<span class="string">'/api/query'</span>, <span class="string">'LucidQlController.query'</span>)</span><br></pre></td></tr></table></figure></p>
<h3 id="Add-some-data"><a href="#Add-some-data" class="headerlink" title="Add some data"></a>Add some data</h3><p>Since this is not a tutorial about how to develop a front end, I don’t intend to develop a full front end application, instead we will use data that I have provided below to populate the database and we will use <a href="https://www.getpostman.com/" target="_blank" rel="noopener">Postman</a> to test the LucidQL api.</p>
<figure class="highlight sql"><figcaption><span>posts.sql </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`posts`</span> (<span class="string">`title`</span>, <span class="string">`body`</span>, <span class="string">`created_at`</span>, <span class="string">`updated_at`</span>) <span class="keyword">VALUES</span> (<span class="string">'Welcome to LucidQL '</span>, <span class="string">'LucidQL provides a query language for REST clients to fetch data from a Adonis JS Api.'</span>, <span class="string">'2019-03-28 22:26:43'</span>, <span class="string">'2019-03-28 22:26:44'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`posts`</span> (<span class="string">`title`</span>, <span class="string">`body`</span>, <span class="string">`created_at`</span>, <span class="string">`updated_at`</span>) <span class="keyword">VALUES</span> (<span class="string">'Adonis - A Great Framework'</span>, <span class="string">'Adonis is up there with the best frameworks I have worked with. I hope you agree.'</span>, <span class="string">'2019-03-28 22:27:43'</span>, <span class="string">'2019-03-28 22:27:44'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`posts`</span> (<span class="string">`title`</span>, <span class="string">`body`</span>, <span class="string">`created_at`</span>, <span class="string">`updated_at`</span>) <span class="keyword">VALUES</span> (<span class="string">'VueJS and Adonis'</span>, <span class="string">'VueJS is a great client side framework and when used with AdonisJS and LucidQL you can create applications really quickly'</span>, <span class="string">'2019-03-28 22:28:54'</span>, <span class="string">'2019-03-28 22:28:55'</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><figcaption><span>comments.sql</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`comments`</span> (<span class="string">`comment`</span>, <span class="string">`post_id`</span>, <span class="string">`created_at`</span>, <span class="string">`updated_at`</span>) <span class="keyword">VALUES</span> (<span class="string">'Agreed LucidQL is really great'</span>, <span class="number">1</span>, <span class="string">'2019-03-28 22:29:40'</span>, <span class="string">'2019-03-28 22:29:41'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`comments`</span> (<span class="string">`comment`</span>, <span class="string">`post_id`</span>, <span class="string">`created_at`</span>, <span class="string">`updated_at`</span>) <span class="keyword">VALUES</span> (<span class="string">'Developing apps is now so much quicker because I don\'t have to keep creating bespoke endpints'</span>, <span class="number">1</span>, <span class="string">'2019-03-28 22:30:29'</span>, <span class="string">'2019-03-28 22:30:30'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`comments`</span> (<span class="string">`comment`</span>, <span class="string">`post_id`</span>, <span class="string">`created_at`</span>, <span class="string">`updated_at`</span>) <span class="keyword">VALUES</span> (<span class="string">'The best thing for me about LucidQL is that there is little to no configuration.'</span>, <span class="number">1</span>, <span class="string">'2019-03-28 22:31:18'</span>, <span class="string">'2019-03-28 22:31:19'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`comments`</span> (<span class="string">`comment`</span>, <span class="string">`post_id`</span>, <span class="string">`created_at`</span>, <span class="string">`updated_at`</span>) <span class="keyword">VALUES</span> (<span class="string">'I have been using Adonis for a while now and I agree it is a really good framework to work with'</span>, <span class="number">2</span>, <span class="string">'2019-03-28 22:32:00'</span>, <span class="string">'2019-03-28 22:32:01'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`comments`</span> (<span class="string">`comment`</span>, <span class="string">`post_id`</span>, <span class="string">`created_at`</span>, <span class="string">`updated_at`</span>) <span class="keyword">VALUES</span> (<span class="string">'The AdonisJS forum is great for getting answers quickly and the community spirit of the users is very good'</span>, <span class="number">2</span>, <span class="string">'2019-03-28 22:33:06'</span>, <span class="string">'2019-03-28 22:33:08'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`comments`</span> (<span class="string">`comment`</span>, <span class="string">`post_id`</span>, <span class="string">`created_at`</span>, <span class="string">`updated_at`</span>) <span class="keyword">VALUES</span> (<span class="string">'The Adonis Documentation is very good it seems to cover everything and is upto date'</span>, <span class="number">2</span>, <span class="string">'2019-03-28 22:33:58'</span>, <span class="string">'2019-03-28 22:33:59'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`comments`</span> (<span class="string">`comment`</span>, <span class="string">`post_id`</span>, <span class="string">`created_at`</span>, <span class="string">`updated_at`</span>) <span class="keyword">VALUES</span> (<span class="string">'I have been using VueJS for a while now and it is my goto front end framework'</span>, <span class="number">3</span>, <span class="string">'2019-03-28 22:34:31'</span>, <span class="string">'2019-03-28 22:34:32'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`comments`</span> (<span class="string">`comment`</span>, <span class="string">`post_id`</span>, <span class="string">`created_at`</span>, <span class="string">`updated_at`</span>) <span class="keyword">VALUES</span> (<span class="string">'I also find that developing with VueJS is fast and easy and I can\'t wait to try LucidQL on my next project'</span>, <span class="number">3</span>, <span class="string">'2019-03-28 22:35:41'</span>, <span class="string">'2019-03-28 22:35:42'</span>);</span><br></pre></td></tr></table></figure>
<p>If your looking for a good SQL editor where you can you easily populate your MySQL database with this data, then give <a href="https://www.heidisql.com/" target="_blank" rel="noopener">HeidiSQL</a> I have been using this for a number of years and have not found a better editor.</p>
<h3 id="Run-some-queries"><a href="#Run-some-queries" class="headerlink" title="Run some queries"></a>Run some queries</h3><p>Lets start our Adonis server first. At the command line in the root of your project run the following command</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adonis serve --dev</span><br></pre></td></tr></table></figure>
<p>If all is well you should see the following </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Watching files for changes...</span><br><span class="line"></span><br><span class="line">info: serving app on http://127.0.0.1:3333</span><br></pre></td></tr></table></figure>
<h4 id="Get-all-posts"><a href="#Get-all-posts" class="headerlink" title="Get all posts"></a>Get all posts</h4><p>Send a post request to <code>http://localhost:3333/api/query</code><br>include the following <code>JOSN</code> in body of your request</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"baseTable"</span>: <span class="string">"Post"</span>,</span><br><span class="line">	<span class="attr">"query"</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>It should return to you the following results.<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"Welcome to LucidQL "</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"LucidQL provides a query language for REST clients to fetch data from a Adonis JS Api."</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:26:43"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:26:44"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"Adonis - A Great Framework"</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"Adonis is up there with the best frameworks I have worked with. I hope you agree."</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:27:43"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:27:44"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"VueJS and Adonis"</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"VueJS is a great client side framework and when used with AdonisJS and LucidQL you can create applications really quickly"</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:28:54"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:28:55"</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<h4 id="Get-a-specific-post"><a href="#Get-a-specific-post" class="headerlink" title="Get a specific post"></a>Get a specific post</h4><p>Change the JSON body to</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"baseTable"</span>: <span class="string">"Post"</span>,</span><br><span class="line">	<span class="attr">"query"</span>: &#123;</span><br><span class="line">		<span class="attr">"where"</span>: [</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="attr">"field"</span>: <span class="string">"id"</span>,</span><br><span class="line">				<span class="attr">"value"</span>: <span class="number">2</span>,</span><br><span class="line">				<span class="attr">"op"</span>: <span class="string">"=="</span></span><br><span class="line">			&#125;</span><br><span class="line">			]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Response should be<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"Adonis - A Great Framework"</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"Adonis is up there with the best frameworks I have worked with. I hope you agree."</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:27:43"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:27:44"</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<h4 id="Select-some-fields"><a href="#Select-some-fields" class="headerlink" title="Select some fields"></a>Select some fields</h4><p>Lets just return the <code>id</code> and <code>title</code> of each post<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"baseTable"</span>: <span class="string">"Post"</span>,</span><br><span class="line">	<span class="attr">"query"</span>: &#123;</span><br><span class="line">		<span class="attr">"fields"</span>: [<span class="string">"id"</span>, <span class="string">"title"</span>]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>The result should be<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"Welcome to LucidQL "</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"Adonis - A Great Framework"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"VueJS and Adonis"</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<h4 id="All-posts-amp-comments"><a href="#All-posts-amp-comments" class="headerlink" title="All posts &amp; comments"></a>All posts &amp; comments</h4><p>Change your post request to this<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"baseTable"</span>: <span class="string">"Post"</span>,</span><br><span class="line">	<span class="attr">"query"</span>: &#123;</span><br><span class="line">		<span class="attr">"with"</span>: [</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="attr">"table"</span>: <span class="string">"comments"</span></span><br><span class="line">			&#125;</span><br><span class="line">			]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>The result is<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"Welcome to LucidQL "</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"LucidQL provides a query language for REST clients to fetch data from a Adonis JS Api."</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:26:43"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:26:44"</span>,</span><br><span class="line">        <span class="attr">"comments"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"Agreed LucidQL is really great"</span>,</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:29:40"</span>,</span><br><span class="line">                <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:29:41"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"id"</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"Developing apps is now so much quicker because I don't have to keep creating bespoke endpints"</span>,</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:30:29"</span>,</span><br><span class="line">                <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:30:30"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"id"</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"The best thing for me about LucidQL is that there is little to no configuration."</span>,</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:31:18"</span>,</span><br><span class="line">                <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:31:19"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"Adonis - A Great Framework"</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"Adonis is up there with the best frameworks I have worked with. I hope you agree."</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:27:43"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:27:44"</span>,</span><br><span class="line">        <span class="attr">"comments"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"id"</span>: <span class="number">4</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"I have been using Adonis for a while now and I agree it is a really good framework to work with"</span>,</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:32:00"</span>,</span><br><span class="line">                <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:32:01"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"id"</span>: <span class="number">5</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"The AdonisJS forum is great for getting answers quickly and the community spirit of the users is very good"</span>,</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:33:06"</span>,</span><br><span class="line">                <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:33:08"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"id"</span>: <span class="number">6</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"The Adonis Documentation is very good it seems to cover everything and is upto date"</span>,</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:33:58"</span>,</span><br><span class="line">                <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:33:59"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"VueJS and Adonis"</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"VueJS is a great client side framework and when used with AdonisJS and LucidQL you can create applications really quickly"</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:28:54"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:28:55"</span>,</span><br><span class="line">        <span class="attr">"comments"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"id"</span>: <span class="number">7</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"I have been using VueJS for a while now and it is my goto front end framework"</span>,</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:34:31"</span>,</span><br><span class="line">                <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:34:32"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"id"</span>: <span class="number">8</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"I also find that developing with VueJS is fast and easy and I can't wait to try LucidQL on my next project"</span>,</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:35:41"</span>,</span><br><span class="line">                <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:35:42"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<h4 id="Limit-fields-in-relations"><a href="#Limit-fields-in-relations" class="headerlink" title="Limit fields in relations"></a>Limit fields in relations</h4><p>We can also limit the fields in the related data in the same way we already saw.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"baseTable"</span>: <span class="string">"Post"</span>,</span><br><span class="line">	<span class="attr">"query"</span>: &#123;</span><br><span class="line">		<span class="attr">"with"</span>: [</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="attr">"table"</span>: <span class="string">"comments"</span>,</span><br><span class="line">				<span class="attr">"fields"</span>: [<span class="string">"post_id"</span>, <span class="string">"comment"</span>]</span><br><span class="line">			&#125;</span><br><span class="line">			]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Notice</strong> that we have included the <code>post_id</code> field, this is not incidental. Lucid requires that when fetching relations that you include the foreign key otherwise it does not know how to join the data. The same goes for the base table (posts in this case), we must include the <code>id</code> field if we want to fetch the related comments.<br>The result should be</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"Welcome to LucidQL "</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"LucidQL provides a query language for REST clients to fetch data from a Adonis JS Api."</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:26:43"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:26:44"</span>,</span><br><span class="line">        <span class="attr">"comments"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"Agreed LucidQL is really great"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"Developing apps is now so much quicker because I don't have to keep creating bespoke endpints"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"The best thing for me about LucidQL is that there is little to no configuration."</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"Adonis - A Great Framework"</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"Adonis is up there with the best frameworks I have worked with. I hope you agree."</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:27:43"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:27:44"</span>,</span><br><span class="line">        <span class="attr">"comments"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"I have been using Adonis for a while now and I agree it is a really good framework to work with"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"The AdonisJS forum is great for getting answers quickly and the community spirit of the users is very good"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"The Adonis Documentation is very good it seems to cover everything and is upto date"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"VueJS and Adonis"</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"VueJS is a great client side framework and when used with AdonisJS and LucidQL you can create applications really quickly"</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:28:54"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:28:55"</span>,</span><br><span class="line">        <span class="attr">"comments"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"I have been using VueJS for a while now and it is my goto front end framework"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"I also find that developing with VueJS is fast and easy and I can't wait to try LucidQL on my next project"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h4 id="ordering-data"><a href="#ordering-data" class="headerlink" title="ordering data"></a>ordering data</h4><p>You can order the data in your baseTable and relations. In this example I am fetching all the posts and comments with the comments ordered in descending order.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"baseTable"</span>: <span class="string">"Post"</span>,</span><br><span class="line">	<span class="attr">"query"</span>: &#123;</span><br><span class="line">		<span class="attr">"with"</span>: [</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="attr">"table"</span>: <span class="string">"comments"</span>,</span><br><span class="line">				<span class="attr">"fields"</span>: [<span class="string">"post_id"</span>, <span class="string">"comment"</span>],</span><br><span class="line">				<span class="attr">"order"</span>: [</span><br><span class="line">					&#123;</span><br><span class="line">						<span class="attr">"field"</span>: <span class="string">"comment"</span>,</span><br><span class="line">						<span class="attr">"direction"</span>: <span class="string">"DESC"</span></span><br><span class="line">					&#125;</span><br><span class="line">					]</span><br><span class="line">			&#125;</span><br><span class="line">			]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The result is<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"Welcome to LucidQL "</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"LucidQL provides a query language for REST clients to fetch data from a Adonis JS Api."</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:26:43"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:26:44"</span>,</span><br><span class="line">        <span class="attr">"comments"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"The best thing for me about LucidQL is that there is little to no configuration."</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"Developing apps is now so much quicker because I don't have to keep creating bespoke endpints"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"Agreed LucidQL is really great"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"Adonis - A Great Framework"</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"Adonis is up there with the best frameworks I have worked with. I hope you agree."</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:27:43"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:27:44"</span>,</span><br><span class="line">        <span class="attr">"comments"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"The AdonisJS forum is great for getting answers quickly and the community spirit of the users is very good"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"The Adonis Documentation is very good it seems to cover everything and is upto date"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"I have been using Adonis for a while now and I agree it is a really good framework to work with"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">"id"</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="attr">"title"</span>: <span class="string">"VueJS and Adonis"</span>,</span><br><span class="line">        <span class="attr">"body"</span>: <span class="string">"VueJS is a great client side framework and when used with AdonisJS and LucidQL you can create applications really quickly"</span>,</span><br><span class="line">        <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:28:54"</span>,</span><br><span class="line">        <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:28:55"</span>,</span><br><span class="line">        <span class="attr">"comments"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"I have been using VueJS for a while now and it is my goto front end framework"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"post_id"</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">"comment"</span>: <span class="string">"I also find that developing with VueJS is fast and easy and I can't wait to try LucidQL on my next project"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<h4 id="Pagination"><a href="#Pagination" class="headerlink" title="Pagination"></a>Pagination</h4><p>Pagination is supported very easily.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"baseTable"</span>: <span class="string">"Post"</span>,</span><br><span class="line">	<span class="attr">"query"</span>: &#123;</span><br><span class="line">		<span class="attr">"with"</span>: [</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="attr">"table"</span>: <span class="string">"comments"</span>,</span><br><span class="line">				<span class="attr">"fields"</span>: [<span class="string">"post_id"</span>, <span class="string">"comment"</span>]</span><br><span class="line">			&#125;</span><br><span class="line">			],</span><br><span class="line">		<span class="attr">"paginate"</span>: &#123;</span><br><span class="line">			<span class="attr">"page"</span>: <span class="number">1</span>,</span><br><span class="line">			<span class="attr">"perPage"</span>: <span class="number">2</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Notice that we get back a standard Lucid pagination object that includes</p>
<ul>
<li>Total records</li>
<li>Records per page</li>
<li>Current page we are on</li>
<li>The last page in the pagination set</li>
</ul>
<p>This makes integrating pagination into your apps very easy.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"total"</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">"perPage"</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">"page"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">"lastPage"</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">"data"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"id"</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">"title"</span>: <span class="string">"Welcome to LucidQL "</span>,</span><br><span class="line">            <span class="attr">"body"</span>: <span class="string">"LucidQL provides a query language for REST clients to fetch data from a Adonis JS Api."</span>,</span><br><span class="line">            <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:26:43"</span>,</span><br><span class="line">            <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:26:44"</span>,</span><br><span class="line">            <span class="attr">"comments"</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"post_id"</span>: <span class="number">1</span>,</span><br><span class="line">                    <span class="attr">"comment"</span>: <span class="string">"Agreed LucidQL is really great"</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"post_id"</span>: <span class="number">1</span>,</span><br><span class="line">                    <span class="attr">"comment"</span>: <span class="string">"Developing apps is now so much quicker because I don't have to keep creating bespoke endpints"</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"post_id"</span>: <span class="number">1</span>,</span><br><span class="line">                    <span class="attr">"comment"</span>: <span class="string">"The best thing for me about LucidQL is that there is little to no configuration."</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"id"</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">"title"</span>: <span class="string">"Adonis - A Great Framework"</span>,</span><br><span class="line">            <span class="attr">"body"</span>: <span class="string">"Adonis is up there with the best frameworks I have worked with. I hope you agree."</span>,</span><br><span class="line">            <span class="attr">"created_at"</span>: <span class="string">"2019-03-28 22:27:43"</span>,</span><br><span class="line">            <span class="attr">"updated_at"</span>: <span class="string">"2019-03-28 22:27:44"</span>,</span><br><span class="line">            <span class="attr">"comments"</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"post_id"</span>: <span class="number">2</span>,</span><br><span class="line">                    <span class="attr">"comment"</span>: <span class="string">"I have been using Adonis for a while now and I agree it is a really good framework to work with"</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"post_id"</span>: <span class="number">2</span>,</span><br><span class="line">                    <span class="attr">"comment"</span>: <span class="string">"The AdonisJS forum is great for getting answers quickly and the community spirit of the users is very good"</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"post_id"</span>: <span class="number">2</span>,</span><br><span class="line">                    <span class="attr">"comment"</span>: <span class="string">"The Adonis Documentation is very good it seems to cover everything and is upto date"</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Aggregation"><a href="#Aggregation" class="headerlink" title="Aggregation"></a>Aggregation</h4><p>Aggregation is very simple with LucidQL</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"baseTable"</span>: <span class="string">"Post"</span>,</span><br><span class="line">	<span class="attr">"query"</span>: &#123;</span><br><span class="line">		<span class="attr">"aggregate"</span>: &#123;</span><br><span class="line">			<span class="attr">"field"</span>: <span class="string">"id"</span>,</span><br><span class="line">			<span class="attr">"function"</span>: <span class="string">"getSum"</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The result should be <code>6</code> since we have a three records with id’s of <code>1</code>, <code>2</code>, and <code>3</code></p>
<p>The aggregation functions supported are </p>
<ul>
<li>getCount</li>
<li>getCountDistinct</li>
<li>getMin</li>
<li>getMax</li>
<li>getSum</li>
<li>getSumDistinct</li>
<li>getAvg</li>
<li>getAvgDistinct</li>
</ul>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>All the examples I have shown can be used in different combinations to get the results you want.</p>
<p>Hopefully in your next project you will be able to use LucidQL to speed up your development time and reduce the network traffic between your frontend and backend by fetching just the data you want.</p>
<h2 id="Further-development"><a href="#Further-development" class="headerlink" title="Further development"></a>Further development</h2><p>I am planning further development on this module to add extra features. If you have any requests the project can be found on my github page at <a href="https://github.com/SouthRibbleTech/lucidql" target="_blank" rel="noopener">https://github.com/SouthRibbleTech/lucidql</a></p>
<p>If you would like to work on LucidQL to add more features, please submit a PR</p>

            <div class="post-copyright">
    <div class="content">
        <p>Updated： 2019-03-28 23:30</p>
        <p>Link： <a class="post-url" href="/2019/03/28/LucidQL/" title="LucidQL">http://simoncarr.co.uk/2019/03/28/LucidQL/</a></p>
        <footer>
            <a href="http://simoncarr.co.uk">
                <img src="/images/logo.png" alt="Simon Carr">
                Simon Carr
            </a>
        </footer>
    </div>
</div>

      
        
            

        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://simoncarr.co.uk/2019/03/28/LucidQL/&title=《LucidQL》 — Simon Carr&pic=images/cover/LucidQL.jpg" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://simoncarr.co.uk/2019/03/28/LucidQL/&title=《LucidQL》 — Simon Carr&source=" data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://simoncarr.co.uk/2019/03/28/LucidQL/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《LucidQL》 — Simon Carr&url=http://simoncarr.co.uk/2019/03/28/LucidQL/&via=http://simoncarr.co.uk" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://simoncarr.co.uk/2019/03/28/LucidQL/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://simoncarr.co.uk/2019/03/28/LucidQL/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/LucidQL/" class="color3">LucidQL</a>
      
    <a href="/tags/AdonisJS/" class="color4">AdonisJS</a>
      
    <a href="/tags/Knex/" class="color5">Knex</a>
      
    <a href="/tags/API/" class="color4">API</a>
      
    <a href="/tags/Rest/" class="color5">Rest</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#AdonisJS-Setup"><span class="post-toc-text">AdonisJS Setup</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Create-an-AdonisJS-project"><span class="post-toc-text">Create an AdonisJS project</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Create-MySQL-Database"><span class="post-toc-text">Create MySQL Database</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Create-Models-amp-Migrations"><span class="post-toc-text">Create Models &amp; Migrations</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Configure-MySQL-connection"><span class="post-toc-text">Configure MySQL connection</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#LucidQL"><span class="post-toc-text">LucidQL</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Setup"><span class="post-toc-text">Setup</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Add-some-data"><span class="post-toc-text">Add some data</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Run-some-queries"><span class="post-toc-text">Run some queries</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Get-all-posts"><span class="post-toc-text">Get all posts</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Get-a-specific-post"><span class="post-toc-text">Get a specific post</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Select-some-fields"><span class="post-toc-text">Select some fields</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#All-posts-amp-comments"><span class="post-toc-text">All posts &amp; comments</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Limit-fields-in-relations"><span class="post-toc-text">Limit fields in relations</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ordering-data"><span class="post-toc-text">ordering data</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Pagination"><span class="post-toc-text">Pagination</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Aggregation"><span class="post-toc-text">Aggregation</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Summary"><span class="post-toc-text">Summary</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Further-development"><span class="post-toc-text">Further development</span></a></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
    <a href="/2019/03/29/LucidQL-Youtube/" id="article-nav-newer" class="article-nav-link-wrap">

      <span class="article-nav-title">
        <i class="fa fa-hand-o-left" aria-hidden="true"></i>
        
          LucidQL-Youtube
        
      </span>
    </a>
  
  
</nav>



    
        <section id="comments">
            <div id="disqus_thread">
                <script type="text/javascript">
                    var disqus_shortname = 'simoncarr';
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </div>
        </section>
    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      


      
        <script>
          var disqus_shortname = 'simoncarr';
          
          var disqus_url = 'http://simoncarr.co.uk/2019/03/29/LucidQL-Youtube/';
          
          (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
        

      <p>
      &copy; 2019 Simon Carr<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "http://simoncarr.co.uk",
      animate: true,
      isHome: false,
      share: true,
      reward: 0
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/API/" style="font-size: 10px;">API</a> <a href="/tags/AdonisJS/" style="font-size: 10px;">AdonisJS</a> <a href="/tags/Knex/" style="font-size: 10px;">Knex</a> <a href="/tags/LucidQL/" style="font-size: 10px;">LucidQL</a> <a href="/tags/Rest/" style="font-size: 10px;">Rest</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a href="http://www.simoncarr.co.uk">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a href="/about">
                    <i class="fa fa-user"></i><span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/API/" style="font-size: 10px;">API</a> <a href="/tags/AdonisJS/" style="font-size: 10px;">AdonisJS</a> <a href="/tags/Knex/" style="font-size: 10px;">Knex</a> <a href="/tags/LucidQL/" style="font-size: 10px;">LucidQL</a> <a href="/tags/Rest/" style="font-size: 10px;">Rest</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>


  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <div id="particles"></div>
  <script src="/js/particles.js"></script>



<script>
  var disqus_shortname = 'simoncarr';
  
  var disqus_url = 'http://simoncarr.co.uk/2019/03/28/LucidQL/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>





  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  <script src="/js/animate.js"></script>


  <script src="/js/pop-img.js"></script>
  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
</body>
</html>